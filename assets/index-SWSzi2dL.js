const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/rolodex-orig-CSPHv-k3.js","assets/three-BHEV8ULI.js"])))=>i.map(i=>d[i]);
import{R as Qe,P as $e,E as Je,V as h,M as N,T as k,Q as Te,S as Oe,a as y,b as et,D as te,A as tt,G as ot,c as nt,d as at,e as it,f as rt,g as st,W as ct}from"./three-BHEV8ULI.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))e(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&e(c)}).observe(document,{childList:!0,subtree:!0});function p(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function e(o){if(o.ep)return;o.ep=!0;const a=p(o);fetch(o.href,a)}})();const lt="modulepreload",ut=function(u){return"/workspace-rolodex/"+u},Le={},dt=function(s,p,e){let o=Promise.resolve();if(p&&p.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),i=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));o=Promise.allSettled(p.map(m=>{if(m=ut(m),m in Le)return;Le[m]=!0;const b=m.endsWith(".css"),T=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${T}`))return;const f=document.createElement("link");if(f.rel=b?"stylesheet":lt,b||(f.as="script"),f.crossOrigin="",f.href=m,i&&f.setAttribute("nonce",i),document.head.appendChild(f),b)return new Promise((E,O)=>{f.addEventListener("load",E),f.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(c){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=c,window.dispatchEvent(i),!i.defaultPrevented)throw c}return o.then(c=>{for(const i of c||[])i.status==="rejected"&&a(i.reason);return s().catch(a)})},Me={type:"change"},oe={type:"start"},Ae={type:"end"},q=new Qe,je=new $e,mt=Math.cos(70*et.DEG2RAD);class pt extends Je{constructor(s,p){super(),this.object=s,this.domElement=p,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new h,this.cursor=new h,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:N.ROTATE,MIDDLE:N.DOLLY,RIGHT:N.PAN},this.touches={ONE:k.ROTATE,TWO:k.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return i.phi},this.getAzimuthalAngle=function(){return i.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(t){t.addEventListener("keydown",J),this._domElementKeyEvents=t},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",J),this._domElementKeyEvents=null},this.saveState=function(){e.target0.copy(e.target),e.position0.copy(e.object.position),e.zoom0=e.object.zoom},this.reset=function(){e.target.copy(e.target0),e.object.position.copy(e.position0),e.object.zoom=e.zoom0,e.object.updateProjectionMatrix(),e.dispatchEvent(Me),e.update(),a=o.NONE},this.update=function(){const t=new h,n=new Te().setFromUnitVectors(s.up,new h(0,1,0)),l=n.clone().invert(),d=new h,g=new Te,v=new h,M=2*Math.PI;return function(Be=null){const Pe=e.object.position;t.copy(Pe).sub(e.target),t.applyQuaternion(n),i.setFromVector3(t),e.autoRotate&&a===o.NONE&&Y(Ne(Be)),e.enableDamping?(i.theta+=m.theta*e.dampingFactor,i.phi+=m.phi*e.dampingFactor):(i.theta+=m.theta,i.phi+=m.phi);let w=e.minAzimuthAngle,P=e.maxAzimuthAngle;isFinite(w)&&isFinite(P)&&(w<-Math.PI?w+=M:w>Math.PI&&(w-=M),P<-Math.PI?P+=M:P>Math.PI&&(P-=M),w<=P?i.theta=Math.max(w,Math.min(P,i.theta)):i.theta=i.theta>(w+P)/2?Math.max(w,i.theta):Math.min(P,i.theta)),i.phi=Math.max(e.minPolarAngle,Math.min(e.maxPolarAngle,i.phi)),i.makeSafe(),e.enableDamping===!0?e.target.addScaledVector(T,e.dampingFactor):e.target.add(T),e.target.sub(e.cursor),e.target.clampLength(e.minTargetRadius,e.maxTargetRadius),e.target.add(e.cursor),e.zoomToCursor&&F||e.object.isOrthographicCamera?i.radius=Q(i.radius):i.radius=Q(i.radius*b),t.setFromSpherical(i),t.applyQuaternion(l),Pe.copy(e.target).add(t),e.object.lookAt(e.target),e.enableDamping===!0?(m.theta*=1-e.dampingFactor,m.phi*=1-e.dampingFactor,T.multiplyScalar(1-e.dampingFactor)):(m.set(0,0,0),T.set(0,0,0));let V=!1;if(e.zoomToCursor&&F){let z=null;if(e.object.isPerspectiveCamera){const H=t.length();z=Q(H*b);const G=H-z;e.object.position.addScaledVector(ae,G),e.object.updateMatrixWorld()}else if(e.object.isOrthographicCamera){const H=new h(L.x,L.y,0);H.unproject(e.object),e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/b)),e.object.updateProjectionMatrix(),V=!0;const G=new h(L.x,L.y,0);G.unproject(e.object),e.object.position.sub(G).add(H),e.object.updateMatrixWorld(),z=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),e.zoomToCursor=!1;z!==null&&(this.screenSpacePanning?e.target.set(0,0,-1).transformDirection(e.object.matrix).multiplyScalar(z).add(e.object.position):(q.origin.copy(e.object.position),q.direction.set(0,0,-1).transformDirection(e.object.matrix),Math.abs(e.object.up.dot(q.direction))<mt?s.lookAt(e.target):(je.setFromNormalAndCoplanarPoint(e.object.up,e.target),q.intersectPlane(je,e.target))))}else e.object.isOrthographicCamera&&(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/b)),e.object.updateProjectionMatrix(),V=!0);return b=1,F=!1,V||d.distanceToSquared(e.object.position)>c||8*(1-g.dot(e.object.quaternion))>c||v.distanceToSquared(e.target)>0?(e.dispatchEvent(Me),d.copy(e.object.position),g.copy(e.object.quaternion),v.copy(e.target),V=!1,!0):!1}}(),this.dispose=function(){e.domElement.removeEventListener("contextmenu",Ee),e.domElement.removeEventListener("pointerdown",be),e.domElement.removeEventListener("pointercancel",U),e.domElement.removeEventListener("wheel",ye),e.domElement.removeEventListener("pointermove",$),e.domElement.removeEventListener("pointerup",U),e._domElementKeyEvents!==null&&(e._domElementKeyEvents.removeEventListener("keydown",J),e._domElementKeyEvents=null)};const e=this,o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let a=o.NONE;const c=1e-6,i=new Oe,m=new Oe;let b=1;const T=new h,f=new y,E=new y,O=new y,A=new y,j=new y,x=new y,S=new y,D=new y,_=new y,ae=new h,L=new y;let F=!1;const r=[],Z={};function Ne(t){return t!==null?2*Math.PI/60*e.autoRotateSpeed*t:2*Math.PI/60/60*e.autoRotateSpeed}function X(){return Math.pow(.95,e.zoomSpeed)}function Y(t){m.theta-=t}function W(t){m.phi-=t}const ie=function(){const t=new h;return function(l,d){t.setFromMatrixColumn(d,0),t.multiplyScalar(-l),T.add(t)}}(),re=function(){const t=new h;return function(l,d){e.screenSpacePanning===!0?t.setFromMatrixColumn(d,1):(t.setFromMatrixColumn(d,0),t.crossVectors(e.object.up,t)),t.multiplyScalar(l),T.add(t)}}(),R=function(){const t=new h;return function(l,d){const g=e.domElement;if(e.object.isPerspectiveCamera){const v=e.object.position;t.copy(v).sub(e.target);let M=t.length();M*=Math.tan(e.object.fov/2*Math.PI/180),ie(2*l*M/g.clientHeight,e.object.matrix),re(2*d*M/g.clientHeight,e.object.matrix)}else e.object.isOrthographicCamera?(ie(l*(e.object.right-e.object.left)/e.object.zoom/g.clientWidth,e.object.matrix),re(d*(e.object.top-e.object.bottom)/e.object.zoom/g.clientHeight,e.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),e.enablePan=!1)}}();function B(t){e.object.isPerspectiveCamera||e.object.isOrthographicCamera?b/=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function se(t){e.object.isPerspectiveCamera||e.object.isOrthographicCamera?b*=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function ce(t){if(!e.zoomToCursor)return;F=!0;const n=e.domElement.getBoundingClientRect(),l=t.clientX-n.left,d=t.clientY-n.top,g=n.width,v=n.height;L.x=l/g*2-1,L.y=-(d/v)*2+1,ae.set(L.x,L.y,1).unproject(e.object).sub(e.object.position).normalize()}function Q(t){return Math.max(e.minDistance,Math.min(e.maxDistance,t))}function le(t){f.set(t.clientX,t.clientY)}function ke(t){ce(t),S.set(t.clientX,t.clientY)}function ue(t){A.set(t.clientX,t.clientY)}function Ce(t){E.set(t.clientX,t.clientY),O.subVectors(E,f).multiplyScalar(e.rotateSpeed);const n=e.domElement;Y(2*Math.PI*O.x/n.clientHeight),W(2*Math.PI*O.y/n.clientHeight),f.copy(E),e.update()}function Ie(t){D.set(t.clientX,t.clientY),_.subVectors(D,S),_.y>0?B(X()):_.y<0&&se(X()),S.copy(D),e.update()}function _e(t){j.set(t.clientX,t.clientY),x.subVectors(j,A).multiplyScalar(e.panSpeed),R(x.x,x.y),A.copy(j),e.update()}function Ye(t){ce(t),t.deltaY<0?se(X()):t.deltaY>0&&B(X()),e.update()}function Ue(t){let n=!1;switch(t.code){case e.keys.UP:t.ctrlKey||t.metaKey||t.shiftKey?W(2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):R(0,e.keyPanSpeed),n=!0;break;case e.keys.BOTTOM:t.ctrlKey||t.metaKey||t.shiftKey?W(-2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):R(0,-e.keyPanSpeed),n=!0;break;case e.keys.LEFT:t.ctrlKey||t.metaKey||t.shiftKey?Y(2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):R(e.keyPanSpeed,0),n=!0;break;case e.keys.RIGHT:t.ctrlKey||t.metaKey||t.shiftKey?Y(-2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):R(-e.keyPanSpeed,0),n=!0;break}n&&(t.preventDefault(),e.update())}function de(){if(r.length===1)f.set(r[0].pageX,r[0].pageY);else{const t=.5*(r[0].pageX+r[1].pageX),n=.5*(r[0].pageY+r[1].pageY);f.set(t,n)}}function me(){if(r.length===1)A.set(r[0].pageX,r[0].pageY);else{const t=.5*(r[0].pageX+r[1].pageX),n=.5*(r[0].pageY+r[1].pageY);A.set(t,n)}}function pe(){const t=r[0].pageX-r[1].pageX,n=r[0].pageY-r[1].pageY,l=Math.sqrt(t*t+n*n);S.set(0,l)}function ze(){e.enableZoom&&pe(),e.enablePan&&me()}function He(){e.enableZoom&&pe(),e.enableRotate&&de()}function fe(t){if(r.length==1)E.set(t.pageX,t.pageY);else{const l=ee(t),d=.5*(t.pageX+l.x),g=.5*(t.pageY+l.y);E.set(d,g)}O.subVectors(E,f).multiplyScalar(e.rotateSpeed);const n=e.domElement;Y(2*Math.PI*O.x/n.clientHeight),W(2*Math.PI*O.y/n.clientHeight),f.copy(E)}function he(t){if(r.length===1)j.set(t.pageX,t.pageY);else{const n=ee(t),l=.5*(t.pageX+n.x),d=.5*(t.pageY+n.y);j.set(l,d)}x.subVectors(j,A).multiplyScalar(e.panSpeed),R(x.x,x.y),A.copy(j)}function ge(t){const n=ee(t),l=t.pageX-n.x,d=t.pageY-n.y,g=Math.sqrt(l*l+d*d);D.set(0,g),_.set(0,Math.pow(D.y/S.y,e.zoomSpeed)),B(_.y),S.copy(D)}function Ke(t){e.enableZoom&&ge(t),e.enablePan&&he(t)}function Fe(t){e.enableZoom&&ge(t),e.enableRotate&&fe(t)}function be(t){e.enabled!==!1&&(r.length===0&&(e.domElement.setPointerCapture(t.pointerId),e.domElement.addEventListener("pointermove",$),e.domElement.addEventListener("pointerup",U)),Ge(t),t.pointerType==="touch"?We(t):Ze(t))}function $(t){e.enabled!==!1&&(t.pointerType==="touch"?Ve(t):Xe(t))}function U(t){qe(t),r.length===0&&(e.domElement.releasePointerCapture(t.pointerId),e.domElement.removeEventListener("pointermove",$),e.domElement.removeEventListener("pointerup",U)),e.dispatchEvent(Ae),a=o.NONE}function Ze(t){let n;switch(t.button){case 0:n=e.mouseButtons.LEFT;break;case 1:n=e.mouseButtons.MIDDLE;break;case 2:n=e.mouseButtons.RIGHT;break;default:n=-1}switch(n){case N.DOLLY:if(e.enableZoom===!1)return;ke(t),a=o.DOLLY;break;case N.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enablePan===!1)return;ue(t),a=o.PAN}else{if(e.enableRotate===!1)return;le(t),a=o.ROTATE}break;case N.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enableRotate===!1)return;le(t),a=o.ROTATE}else{if(e.enablePan===!1)return;ue(t),a=o.PAN}break;default:a=o.NONE}a!==o.NONE&&e.dispatchEvent(oe)}function Xe(t){switch(a){case o.ROTATE:if(e.enableRotate===!1)return;Ce(t);break;case o.DOLLY:if(e.enableZoom===!1)return;Ie(t);break;case o.PAN:if(e.enablePan===!1)return;_e(t);break}}function ye(t){e.enabled===!1||e.enableZoom===!1||a!==o.NONE||(t.preventDefault(),e.dispatchEvent(oe),Ye(t),e.dispatchEvent(Ae))}function J(t){e.enabled===!1||e.enablePan===!1||Ue(t)}function We(t){switch(we(t),r.length){case 1:switch(e.touches.ONE){case k.ROTATE:if(e.enableRotate===!1)return;de(),a=o.TOUCH_ROTATE;break;case k.PAN:if(e.enablePan===!1)return;me(),a=o.TOUCH_PAN;break;default:a=o.NONE}break;case 2:switch(e.touches.TWO){case k.DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;ze(),a=o.TOUCH_DOLLY_PAN;break;case k.DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;He(),a=o.TOUCH_DOLLY_ROTATE;break;default:a=o.NONE}break;default:a=o.NONE}a!==o.NONE&&e.dispatchEvent(oe)}function Ve(t){switch(we(t),a){case o.TOUCH_ROTATE:if(e.enableRotate===!1)return;fe(t),e.update();break;case o.TOUCH_PAN:if(e.enablePan===!1)return;he(t),e.update();break;case o.TOUCH_DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;Ke(t),e.update();break;case o.TOUCH_DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;Fe(t),e.update();break;default:a=o.NONE}}function Ee(t){e.enabled!==!1&&t.preventDefault()}function Ge(t){r.push(t)}function qe(t){delete Z[t.pointerId];for(let n=0;n<r.length;n++)if(r[n].pointerId==t.pointerId){r.splice(n,1);return}}function we(t){let n=Z[t.pointerId];n===void 0&&(n=new y,Z[t.pointerId]=n),n.set(t.pageX,t.pageY)}function ee(t){const n=t.pointerId===r[0].pointerId?r[1]:r[0];return Z[n.pointerId]}e.domElement.addEventListener("contextmenu",Ee),e.domElement.addEventListener("pointerdown",be),e.domElement.addEventListener("pointercancel",U),e.domElement.addEventListener("wheel",ye,{passive:!1}),this.update()}}const De=3.141592653589793;function ft(u,s,p){try{const e=new te(16777215,.95);e.position.set(100,100,0),e.lookAt(0,0,0),u.add(e);const o=new te(16777215,.95);o.position.set(0,100,100),o.lookAt(0,0,0),u.add(o);const a=new te(16777215,.95);a.position.set(0,-100,100),a.lookAt(0,0,0),u.add(a);const c=new tt(10526880);u.add(c),s.position.set(1,1,1),s.lookAt(0,0,0);const i=new pt(s,p.domElement);return i.enableDamping=!0,i.dampingFactor=.05,i.screenSpacePanning=!1,i.minDistance=.5,i.maxDistance=2,i.maxPolarAngle=De,i.minPolarAngle=0,i}catch(e){console.error("Error in createLightsAndCamera",e)}}class ht extends ot{constructor(s,p){super();const e=new nt(s,p,64,100),o=new at({vertexShader:`
        varying vec3 vPosition;
        varying vec2 vUv;
        void main() {
          vPosition = position;
          vUv = uv;
          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
      `,fragmentShader:`
        varying vec3 vPosition;
        varying vec2 vUv;

        vec3 hueToRgb(float hue) {
          float r = abs(hue * 6.0 - 3.0) - 1.0;
          float g = 2.0 - abs(hue * 6.0 - 2.0);
          float b = 2.0 - abs(hue * 6.0 - 4.0);
          return clamp(vec3(r, g, b), 0.0, 1.0);
        }

        void main() {
          float hue = mod(1.0 - vUv.x + 0.25, 1.0); // Use the UV coordinate to vary the hue around the torus
          vec3 color = hueToRgb(hue);
          gl_FragColor = vec4(color, 1.0);
        }
      `,uniforms:{}}),a=new it(e,o);this.add(a)}}new h(1,0,0);new h(0,1,0);new h(0,0,1);let C,K,I,ne,Re=new Worker(new URL("/workspace-rolodex/assets/worker-BK4FxMft.js",import.meta.url));async function gt(){try{C=new rt,K=new st(75,window.innerWidth/window.innerHeight,.1,1e3),I=new ct,I.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(I.domElement),console.log("main.js calling createLightsAndCamera"),ne=ft(C,K,I);const{createRolodex:u}=await dt(async()=>{const{createRolodex:e}=await import("./rolodex-orig-CSPHv-k3.js");return{createRolodex:e}},__vite__mapDeps([0,1])),s=u(C);s.position.set(0,0,0),C.add(s);const p=new ht(1.25,.05);p.rotateX(De/2),C.add(p),console.log("Scene setup complete"),console.log("Starting animation loop"),ve()}catch(u){console.error("Error during scene setup:",u)}}window.addEventListener("resize",()=>{K.aspect=window.innerWidth/window.innerHeight,K.updateProjectionMatrix(),I.setSize(window.innerWidth,window.innerHeight)});let bt=10,xe=1e3/bt,Se=performance.now();function ve(){requestAnimationFrame(ve),typeof ne<"u"&&ne.update();const u=Date.now(),s=u-Se;if(s>xe){Se=u-s%xe;try{I.render(C,K)}catch(p){console.error("Error during animation:",p)}}}Re.postMessage({});Re.onmessage=function(u){console.log("Result from worker:",u.data)};console.log("main.js loaded and calling init()");gt();
